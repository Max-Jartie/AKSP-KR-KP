{% extends "base.html" %}

{% block title %}Новый договор{% endblock %}

{% block content %}
<h2 class="mb-3">Создание договора аренды</h2>

{% if error %}
    <div class="alert alert-danger">{{ error }}</div>
{% endif %}

<form method="post" action="/leases/new">
    <input type="hidden" name="unit_id" value="{{ unit_id }}"/>
    <input type="hidden" name="property_id" value="{{ property_id }}"/>

    <p>
        <strong>Помещение:</strong>
        {% if property_name %}
            {{ property_name }}
        {% else %}
            Объект ID {{ property_id }}
        {% endif %}
    </p>

    <div class="mb-3">
        <label class="form-label">ID арендатора</label>
        <input type="number" class="form-control" name="tenant_id" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Дата начала</label>
        <input type="date" class="form-control" name="start_date" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Дата окончания</label>
        <input type="date" class="form-control" name="end_date" />
    </div>

    <div class="mb-3">
        <label class="form-label">Месячная аренда (₽)</label>
        <input type="number" step="0.01" class="form-control" name="monthly_rent" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Статус</label>
        <select class="form-select" name="status">
            <option value="ACTIVE">Активен</option>
            <option value="PLANNED">Планируется</option>
            <option value="FINISHED">Завершён</option>
        </select>
    </div>

    <button type="submit" class="btn btn-success">Создать</button>
    <a
      href="/properties/{{ property_id }}/units?property_name={{ property_name|urlencode }}"
      class="btn btn-secondary"
    >
        Назад
    </a>
</form>
{% endblock %}
